{% extends "base2.html" %}
{% load static %}
{% block titulo %} NOMBRE {% endblock %}
{% block css %}
<link href="{% static 'css/resu-proyectos.css' %}" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
 <!-- Flatpickr CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
{% endblock %}
{% block contenido %} {% endblock %}
{% block main %}
    <div class="resumen">
        <div class="cont-1">
            <button class="btn btn-anadir" data-bs-toggle="modal" data-bs-target="#modal-crear">
                <img src="{% static 'img/+.png' %}" alt="Icono de Añadir Miembro">
                Crear Proyecto
            </button>
        </div>
        
        <div class="cont-2">
            <div class="header-proyectos">
                <img src="{% static 'img/project.png' %}" alt="Proyectos">
                <div class="card-body">
                    <h3>Proyectos Activos</h3>
                    <p>{{ total_proyectos }} proyectos activos</p>            
                </div>
            </div>
            
            <div class="lista-proyectos">
                <div class="bg-particles">
                    <div class="particle"></div>
                    <div class="particle"></div>
                    <div class="particle"></div>
                    <div class="particle"></div>
                    <div class="particle"></div>
                    <div class="particle"></div>
                    <div class="particle"></div>
                    <div class="particle"></div>
                    <div class="particle"></div>
                    <div class="particle"></div>
                </div>
                
                <!-- Sección de Sennova-->
                {% if proyectos_sennova %}
                <div class="seccion">
                    <div class="header-seccion">
                        <img src="{% static 'img/Rocket.png' %}" alt="Icono de Sennova" class="icono-seccion">
                        <h3 class="titulo-seccion">Proyectos Sennova</h3>
                    </div>

                    <div class="proyectos-carousel-container">
                        <button class="carousel-nav-arrow left">‹</button>
                        
                        <div class="proyectos-carousel-track">
                            {% for proyecto in proyectos_sennova %}
                            
                            <div class="proyecto-card" data-index="{{ forloop.counter0 }}">
                                <input type="radio" name="tabs-{{ proyecto.cod_pro }}" id="tab-resumen-{{ proyecto.cod_pro }}" class="tab-radio" checked>
                                <input type="radio" name="tabs-{{ proyecto.cod_pro }}" id="tab-entregables-{{ proyecto.cod_pro }}" class="tab-radio">
                                
                                <div class="tabs-header">
                                    <label for="tab-resumen-{{ proyecto.cod_pro }}" class="tab">
                                        <i class="fas fa-info-circle"></i> Resumen
                                    </label>
                                    <label for="tab-entregables-{{ proyecto.cod_pro }}" class="tab">
                                        <i class="fas fa-clipboard-list"></i> Entregables ({{ proyecto.entregable_set.count }})
                                    </label>
                                </div>

                                <div class="tab-content" data-tab="resumen">
                                    <div class="proyecto-card-content">
                                        <div class="proyecto-header">
                                            <h3 class="proyecto-titulo">{{ proyecto.nom_pro }}</h3>
                                            <span class="proyecto-estado {{ proyecto.estado|lower }}">{{ proyecto.estado }}</span>
                                        </div>
                                        <p class="proyecto-descripcion">{{ proyecto.desc_pro|truncatewords:50 }}</p>
                                        
                                        <div class="proyecto-progress">
                                            <div class="progress-label">
                                                <span>Progreso General</span>
                                                <span class="progress-percentage">{{ proyecto.progreso|default:"0" }}%</span>
                                            </div>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: {{ proyecto.progreso|default:"0" }}%"></div>
                                            </div>
                                        </div>
                                        
                                        <div class="proyecto-footer">                                            
                                            <div class="proyecto-lineas-grid">
                                                <div class="proyecto-lineas-columna">
                                                    <strong>Líneas Tecnológicas:</strong>
                                                    <ul>
                                                        {% for linea in proyecto.lineas_tec_lista %}
                                                            <li>{{ linea }}</li>
                                                        {% empty %}
                                                            <li>Sin líneas definidas</li>
                                                        {% endfor %}
                                                    </ul>
                                                </div>
                                                
                                                <hr class="separador-vertical">
                                                
                                                <div class="proyecto-lineas-columna">
                                                    <strong>Líneas de Investigación:</strong>
                                                    <ul>
                                                        {% for linea in proyecto.lineas_inv_lista %}
                                                            <li>{{ linea }}</li>
                                                        {% empty %}
                                                            <li>Sin líneas definidas</li>
                                                        {% endfor %}
                                                    </ul>
                                                </div>
                                                
                                                <hr class="separador-vertical">
                                                
                                                <div class="proyecto-lineas-columna">
                                                    <strong>Líneas Semillero:</strong>
                                                    <ul>
                                                        {% for linea in proyecto.lineas_sem_lista %}
                                                            <li>{{ linea }}</li>
                                                        {% empty %}
                                                            <li>Sin líneas definidas</li>
                                                        {% endfor %}
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-content" data-tab="entregables">
                                    <div class="entregables-tab-content">
                                        {% if proyecto.entregable_set.all %}
                                            {% for entregable in proyecto.entregable_set.all %}
                                            <a href="#" class="entregable-mini">
                                                <div class="mini-number">{{ forloop.counter }}</div>
                                                <div class="mini-info">
                                                    <h6>{{ entregable.nom_entre }}</h6>
                                                    <span>
                                                        {% if entregable.estado == "Completado" %}
                                                        <i class="fas fa-check-circle" style="color: #38a169;"></i> Completado
                                                        {% else %}
                                                        <i class="fas fa-clock" style="color: #ed8936;"></i> {{ entregable.estado }}
                                                        {% endif %}
                                                        {% if entregable.fecha_entre %}
                                                        • {{ entregable.fecha_entre }}
                                                        {% endif %}
                                                    </span>
                                                </div>
                                                <i class="fas fa-chevron-right" style="color: #cbd5e0;"></i>
                                            </a>
                                            {% endfor %}
                                        {% else %}
                                            <div class="sin-entregables">
                                                <i class="fas fa-inbox" style="font-size: 48px; color: #cbd5e0; margin-bottom: 15px;"></i>
                                                <p>No hay entregables registrados para este proyecto</p>
                                            </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                            
                            {% endfor %}
                        </div>
                        
                        <button class="carousel-nav-arrow right">›</button>
                    </div>

                    <div class="carousel-dots">
                        {% for proyecto in proyectos_sennova %}
                        <div class="carousel-dot {% if forloop.first %}active{% endif %}" data-index="{{ forloop.counter0 }}"></div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}

                <!-- Sección de Capacidad Instalada-->
                {% if proyectos_capacidad %}
                <div class="seccion">
                    <div class="header-seccion">
                        <img src="{% static 'img/Settings.png' %}" alt="Icono de Capacidad Instalada" class="icono-seccion">
                        <h3 class="titulo-seccion">Proyectos Capacidad Instalada</h3>
                    </div>

                    <div class="proyectos-carousel-container">
                        <button class="carousel-nav-arrow left">‹</button>
                        
                        <div class="proyectos-carousel-track">
                            {% for proyecto in proyectos_capacidad %}
                            
                            <div class="proyecto-card" data-index="{{ forloop.counter0 }}">
                                <input type="radio" name="tabs-{{ proyecto.cod_pro }}" id="tab-resumen-{{ proyecto.cod_pro }}" class="tab-radio" checked>
                                <input type="radio" name="tabs-{{ proyecto.cod_pro }}" id="tab-entregables-{{ proyecto.cod_pro }}" class="tab-radio">
                                
                                <div class="tabs-header">
                                    <label for="tab-resumen-{{ proyecto.cod_pro }}" class="tab">
                                        <i class="fas fa-info-circle"></i> Resumen
                                    </label>
                                    <label for="tab-entregables-{{ proyecto.cod_pro }}" class="tab">
                                        <i class="fas fa-clipboard-list"></i> Entregables ({{ proyecto.entregable_set.count }})
                                    </label>
                                </div>

                                <div class="tab-content" data-tab="resumen">
                                    <div class="proyecto-card-content">
                                        <div class="proyecto-header">
                                            <h3 class="proyecto-titulo">{{ proyecto.nom_pro }}</h3>
                                            <span class="proyecto-estado {{ proyecto.estado|lower }}">{{ proyecto.estado }}</span>
                                        </div>
                                        <p class="proyecto-descripcion">{{ proyecto.desc_pro|truncatewords:50 }}</p>
                                        
                                        <div class="proyecto-progress">
                                            <div class="progress-label">
                                                <span>Progreso General</span>
                                                <span class="progress-percentage">{{ proyecto.progreso|default:"0" }}%</span>
                                            </div>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: {{ proyecto.progreso|default:"0" }}%"></div>
                                            </div>
                                        </div>
                                        <div class="proyecto-footer">                                            
                                            <div class="proyecto-lineas-grid">
                                                <div class="proyecto-lineas-columna">
                                                    <strong>Líneas Tecnológicas:</strong>
                                                    <ul>
                                                        {% for linea in proyecto.lineas_tec_lista %}
                                                            <li>{{ linea }}</li>
                                                        {% empty %}
                                                            <li>Sin líneas definidas</li>
                                                        {% endfor %}
                                                    </ul>
                                                </div>
                                                
                                                <hr class="separador-vertical">
                                                
                                                <div class="proyecto-lineas-columna">
                                                    <strong>Líneas de Investigación:</strong>
                                                    <ul>
                                                        {% for linea in proyecto.lineas_inv_lista %}
                                                            <li>{{ linea }}</li>
                                                        {% empty %}
                                                            <li>Sin líneas definidas</li>
                                                        {% endfor %}
                                                    </ul>
                                                </div>
                                                
                                                <hr class="separador-vertical">
                                                
                                                <div class="proyecto-lineas-columna">
                                                    <strong>Líneas Semillero:</strong>
                                                    <ul>
                                                        {% for linea in proyecto.lineas_sem_lista %}
                                                            <li>{{ linea }}</li>
                                                        {% empty %}
                                                            <li>Sin líneas definidas</li>
                                                        {% endfor %}
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </div>

                                <div class="tab-content" data-tab="entregables">
                                    <div class="entregables-tab-content">
                                        {% if proyecto.entregable_set.all %}
                                            {% for entregable in proyecto.entregable_set.all %}
                                            <a href="#" class="entregable-mini">
                                                <div class="mini-number">{{ forloop.counter }}</div>
                                                <div class="mini-info">
                                                    <h6>{{ entregable.nom_entre }}</h6>
                                                    <span>
                                                        {% if entregable.estado == "Completado" %}
                                                        <i class="fas fa-check-circle" style="color: #38a169;"></i> Completado
                                                        {% else %}
                                                        <i class="fas fa-clock" style="color: #ed8936;"></i> {{ entregable.estado }}
                                                        {% endif %}
                                                        {% if entregable.fecha_entre %}
                                                        • {{ entregable.fecha_entre }}
                                                        {% endif %}
                                                    </span>
                                                </div>
                                                <i class="fas fa-chevron-right" style="color: #cbd5e0;"></i>
                                            </a>
                                            {% endfor %}
                                        {% else %}
                                            <div class="sin-entregables">
                                                <i class="fas fa-inbox" style="font-size: 48px; color: #cbd5e0; margin-bottom: 15px;"></i>
                                                <p>No hay entregables registrados para este proyecto</p>
                                            </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                            
                            {% endfor %}
                        </div>
                        
                        <button class="carousel-nav-arrow right">›</button>
                    </div>

                    <div class="carousel-dots">
                        {% for proyecto in proyectos_capacidad %}
                        <div class="carousel-dot {% if forloop.first %}active{% endif %}" data-index="{{ forloop.counter0 }}"></div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}

                <!-- Sección de Formativa-->
                {% if proyectos_formativos %}
                <div class="seccion">
                    <div class="header-seccion">
                        <img src="{% static 'img/student.png' %}" alt="Icono de Formativa" class="icono-seccion">
                        <h3 class="titulo-seccion">Proyectos Formativos</h3>
                    </div>

                    <div class="proyectos-carousel-container">
                        <button class="carousel-nav-arrow left">‹</button>
                        
                        <div class="proyectos-carousel-track">
                            {% for proyecto in proyectos_formativos %}
                            
                            <div class="proyecto-card" data-index="{{ forloop.counter0 }}">
                                <input type="radio" name="tabs-{{ proyecto.cod_pro }}" id="tab-resumen-{{ proyecto.cod_pro }}" class="tab-radio" checked>
                                <input type="radio" name="tabs-{{ proyecto.cod_pro }}" id="tab-entregables-{{ proyecto.cod_pro }}" class="tab-radio">
                                
                                <div class="tabs-header">
                                    <label for="tab-resumen-{{ proyecto.cod_pro }}" class="tab">
                                        <i class="fas fa-info-circle"></i> Resumen
                                    </label>
                                    <label for="tab-entregables-{{ proyecto.cod_pro }}" class="tab">
                                        <i class="fas fa-clipboard-list"></i> Entregables ({{ proyecto.entregable_set.count }})
                                    </label>
                                </div>

                                <div class="tab-content" data-tab="resumen">
                                    <div class="proyecto-card-content">
                                        <div class="proyecto-header">
                                            <h3 class="proyecto-titulo">{{ proyecto.nom_pro }}</h3>
                                            <span class="proyecto-estado {{ proyecto.estado|lower }}">{{ proyecto.estado }}</span>
                                        </div>
                                        <p class="proyecto-descripcion">{{ proyecto.desc_pro }}</p>
                                        
                                        <div class="proyecto-progress">
                                            <div class="progress-label">
                                                <span>Progreso General</span>
                                                <span class="progress-percentage">{{ proyecto.progreso|default:"0" }}%</span>
                                            </div>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: {{ proyecto.progreso|default:"0" }}%"></div>
                                            </div>
                                        </div>
                                        
                                        <div class="proyecto-footer">                                            
                                            <div class="proyecto-lineas-grid">
                                                <div class="proyecto-lineas-columna">
                                                    <strong>Líneas Tecnológicas:</strong>
                                                    <ul>
                                                        {% for linea in proyecto.lineas_tec_lista %}
                                                            <li>{{ linea }}</li>
                                                        {% empty %}
                                                            <li>Sin líneas definidas</li>
                                                        {% endfor %}
                                                    </ul>
                                                </div>
                                                
                                                <hr class="separador-vertical">
                                                
                                                <div class="proyecto-lineas-columna">
                                                    <strong>Líneas de Investigación:</strong>
                                                    <ul>
                                                        {% for linea in proyecto.lineas_inv_lista %}
                                                            <li>{{ linea }}</li>
                                                        {% empty %}
                                                            <li>Sin líneas definidas</li>
                                                        {% endfor %}
                                                    </ul>
                                                </div>
                                                
                                                <hr class="separador-vertical">
                                                
                                                <div class="proyecto-lineas-columna">
                                                    <strong>Líneas Semillero:</strong>
                                                    <ul>
                                                        {% for linea in proyecto.lineas_sem_lista %}
                                                            <li>{{ linea }}</li>
                                                        {% empty %}
                                                            <li>Sin líneas definidas</li>
                                                        {% endfor %}
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-content" data-tab="entregables">
                                    <div class="entregables-tab-content">
                                        {% if proyecto.entregable_set.all %}
                                            {% for entregable in proyecto.entregable_set.all %}
                                            <a href="#" class="entregable-mini">
                                                <div class="mini-number">{{ forloop.counter }}</div>
                                                <div class="mini-info">
                                                    <h6>{{ entregable.nom_entre }}</h6>
                                                    <span>
                                                        {% if entregable.estado == "Completado" %}
                                                        <i class="fas fa-check-circle" style="color: #38a169;"></i> Completado
                                                        {% else %}
                                                        <i class="fas fa-clock" style="color: #ed8936;"></i> {{ entregable.estado }}
                                                        {% endif %}
                                                        {% if entregable.fecha_entre %}
                                                        • {{ entregable.fecha_entre }}
                                                        {% endif %}
                                                    </span>
                                                </div>
                                                <i class="fas fa-chevron-right" style="color: #cbd5e0;"></i>
                                            </a>
                                            {% endfor %}
                                        {% else %}
                                            <div class="sin-entregables">
                                                <i class="fas fa-inbox" style="font-size: 48px; color: #cbd5e0; margin-bottom: 15px;"></i>
                                                <p>No hay entregables registrados para este proyecto</p>
                                            </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                            
                            {% endfor %}
                        </div>
                        
                        <button class="carousel-nav-arrow right">›</button>
                    </div>

                    <div class="carousel-dots">
                        {% for proyecto in proyectos_formativos %}
                        <div class="carousel-dot {% if forloop.first %}active{% endif %}" data-index="{{ forloop.counter0 }}"></div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}

                <!-- Mensaje cuando no hay ningún proyecto -->
                {% if not proyectos_sennova and not proyectos_capacidad and not proyectos_formativos %}
                <div class="sin-proyectos-global">
                    <i class="fas fa-folder-open"></i>
                    <h3>No hay proyectos registrados</h3>
                    <p>Comienza agregando tu primer proyecto usando el botón "Agregar Proyecto"</p>
                </div>
                {% endif %}

            </div>
        </div>
    </div>

<!-- MODAL CREAR PROYECTO -->
<div id="modal-crear" class="modal-overlay">
    <div class="modal-contenedor">
        <!-- Botón cerrar (X) -->
        <a href="{% url 'resu-proyectos' semillero.id_sem %}" 
           class="modal-cerrar" 
           onclick="cerrarModal('modal-semillero'); return false;">&times;</a>

        
        <div class="modal-contenido">
            <!-- Header del modal -->
            <div class="modal-header">
                <img src="{% static 'img/project.png' %}" alt="Proyectos">
                <h2 class="modal-titulo">Crear Nuevo Proyecto</h2>
            </div>
            
            <!-- Formulario -->
            <form method="POST" action="{% url 'crear_proyecto' semillero.id_sem %}">
                {% csrf_token %}
                
                <!-- Wrapper de dos columnas -->
                <div class="modal-form-wrapper">
                    
                    <!-- COLUMNA 1 -->
                    <!-- Sección: Información Básica -->
                    <div class="modal-seccion">
                        <div class="modal-seccion-titulo">
                            <i class="fas fa-info-circle"></i>
                            <h6>Información Básica</h6>
                        </div>
                        <hr class="modal-hr modal-hr-primario">
                        
                        <div class="modal-campo" id="sub-campo">
                            <label for="nom_pro">Nombre del Proyecto *</label>
                            <input type="text" id="nom_pro" name="nom_pro" placeholder="Ej: Sistema de Riego Inteligente" required>
                        </div>
                        
                        <div class="modal-campo" id="sub-campo">
                            <label for="tipo">Tipo *</label>
                            <select id="tipo" name="tipo" required>
                                <option value="" disabled selected>Selecciona una opción</option>
                                <option value="sennova">Sennova</option>
                                <option value="capacidadinstalada">Capacidad Instalada</option>
                                <option value="formativo">Formativo</option>
                            </select>
                        </div>
                        
                        <div class="modal-campo">
                            <label for="desc_pro">Descripción *</label>
                            <textarea id="desc_pro" name="desc_pro" placeholder="Describe el propósito del proyecto..." required></textarea>
                        </div>
                    </div>
                    
                    <!-- COLUMNA 2 -->
                    <!-- Sección: Líneas -->
                    <div class="modal-seccion">
                        <div class="modal-seccion-titulo">
                            <i class="fa-solid fa-flask"></i>
                            <h6>Líneas</h6>
                        </div>
                        <hr class="modal-hr modal-hr-terciario">
                        
                        <div class="modal-campo" id="sub-campo">
                            <label>Líneas Tecnológicas *</label>
                            <div class="modal-check-group">
                                <label><input type="checkbox" name="lineastec[]" value="Línea de Diseño de Productos"> Línea de Diseño de Productos</label>
                                <label><input type="checkbox" name="lineastec[]" value="Línea de Producción y Transformación"> Línea de Producción y Transformación</label>
                                <label><input type="checkbox" name="lineastec[]" value="Línea de Materiales y Biotecnología"> Línea de Materiales y Biotecnología</label>
                                <label><input type="checkbox" name="lineastec[]" value="Línea de TICs e Inteligencia Artificial"> Línea de TICs e Inteligencia Artificial</label>
                            </div>
                        </div>
                        
                        <div class="modal-campo" id="sub-campo">
                            <label>Líneas de Investigación *</label>
                            <div class="modal-check-group">
                                <label><input type="checkbox" name="lineasinv[]" value="Investigación Aplicada"> Investigación Aplicada</label>
                                <label><input type="checkbox" name="lineasinv[]" value="Desarrollo Tecnológico"> Desarrollo Tecnológico</label>
                                <label><input type="checkbox" name="lineasinv[]" value="Innovación"> Innovación</label>
                            </div>
                        </div>
                        
                        <div class="modal-campo" id="sub-campo">
                            <label>Líneas de Semillero *</label>
                            <div class="modal-check-group">
                                <label><input type="checkbox" name="lineassem[]" value="Formación en Investigación"> Formación en Investigación</label>
                                <label><input type="checkbox" name="lineassem[]" value="Proyectos de Aula"> Proyectos de Aula</label>
                                <label><input type="checkbox" name="lineassem[]" value="Extensión Tecnológica"> Extensión Tecnológica</label>
                            </div>
                        </div>
                    </div>
                    
                </div>
                <!-- FIN del wrapper de dos columnas -->
                
                <!-- ANCHO COMPLETO: Asignar Miembros -->
                <div class="modal-seccion">
                    <div class="modal-seccion-titulo">
                        <i class="fas fa-users"></i>       
                        <h6>Asignar Miembros al Proyecto</h6>
                    </div>
                    <hr class="modal-hr modal-hr-terciario">

                    {% if miembros_semillero %}
                        <div class="miembros-seleccion">
                            {% for miembro in miembros_semillero %}
                                <div class="miembro-item">
                                    <input 
                                        type="checkbox" 
                                        name="miembros_proyecto[]"
                                        value="{{ miembro.cedula }}"
                                        id="miembro_{{ miembro.cedula }}"
                                        style="display: none;"
                                    >
                                    
                                    <label class="miembro-label" for="miembro_{{ miembro.cedula }}">
                                        <div class="miembro-badge">
                                            <span class="miembro-icon">{{ miembro.iniciales|upper }}</span>
                                            <div class="miembro-info">
                                                <span class="miembro-nombre">{{ miembro.nombre_completo }}</span>
                                                <span class="miembro-rol">{{ miembro.rol }}</span>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            {% endfor %}
                        </div>

                        <small class="text-muted">
                            <i class="fas fa-info-circle"></i> 
                            Selecciona los miembros que formarán parte del proyecto 
                        </small>

                    {% else %}
                        <div class="empty-team">
                            <i class="fas fa-user-slash"></i>
                            <p>No hay miembros disponibles en este semillero</p>
                        </div>
                    {% endif %}
                </div>

                <!-- ANCHO COMPLETO: Entregables con grid 2x3 -->
                <div class="modal-seccion entregables-full-width">
                    <div class="modal-seccion-titulo">
                        <i class="fas fa-clipboard-check"></i>
                        <h6>Entregables del Proyecto</h6>
                    </div>
                    <hr class="modal-hr modal-hr-terciario">
                    
                    <div id="entregables-container">
                        <!-- Entregable 1: Formalización de Proyecto -->
                        <div class="entregable-item" data-obligatorio="true">
                            <div class="modal-campo">
                                <label for="entregable_1">
                                    Formalización de Proyecto *
                                    <span class="badge-obligatorio">Obligatorio</span>
                                </label>
                                <p class="descripcion-entregable">
                                    Documento que establece el marco formal del proyecto, incluyendo título, justificación, alcance, participantes y recursos necesarios.
                                </p>
                                <div class="calendar-container">
                                    <i class="fa-solid fa-calendar-days" onclick="abrirCalendario('fechaRango_1')"></i>
                                    <input type="text" 
                                        name="fecha_entregable_1" 
                                        id="fechaRango_1" 
                                        placeholder="Selecciona rango de fechas" 
                                        readonly 
                                        required>
                                    <input type="hidden" name="fecha_inicio_1" id="fecha_inicio_1">
                                    <input type="hidden" name="fecha_fin_1" id="fecha_fin_1">
                                </div>
                            </div>
                        </div>

                        <!-- Entregable 2: Diagnóstico -->
                        <div class="entregable-item" data-obligatorio="true">
                            <div class="modal-campo">
                                <label for="entregable_2">
                                    Diagnóstico *
                                    <span class="badge-obligatorio">Obligatorio</span>
                                </label>
                                <p class="descripcion-entregable">
                                    Análisis de la situación actual, identificación de problemáticas, necesidades y oportunidades del contexto donde se desarrollará el proyecto.
                                </p>
                                <div class="calendar-container">
                                    <i class="fa-solid fa-calendar-days" onclick="abrirCalendario('fechaRango_2')"></i>
                                    <input type="text" 
                                        name="fecha_entregable_2" 
                                        id="fechaRango_2" 
                                        placeholder="Selecciona rango de fechas" 
                                        readonly 
                                        required>
                                    <input type="hidden" name="fecha_inicio_2" id="fecha_inicio_2">
                                    <input type="hidden" name="fecha_fin_2" id="fecha_fin_2">
                                </div>
                            </div>
                        </div>

                        <!-- Entregable 3: Planeación -->
                        <div class="entregable-item" data-obligatorio="true">
                            <div class="modal-campo">
                                <label for="entregable_3">
                                    Planeación *
                                    <span class="badge-obligatorio">Obligatorio</span>
                                </label>
                                <p class="descripcion-entregable">
                                    Planificación detallada con cronograma, actividades, metodología, recursos, responsables y estrategias para el desarrollo del proyecto.
                                </p>
                                <div class="calendar-container">
                                    <i class="fa-solid fa-calendar-days" onclick="abrirCalendario('fechaRango_3')"></i>
                                    <input type="text" 
                                        name="fecha_entregable_3" 
                                        id="fechaRango_3" 
                                        placeholder="Selecciona rango de fechas" 
                                        readonly 
                                        required>
                                    <input type="hidden" name="fecha_inicio_3" id="fecha_inicio_3">
                                    <input type="hidden" name="fecha_fin_3" id="fecha_fin_3">
                                </div>
                            </div>
                        </div>

                        <!-- Entregable 4: Ejecución -->
                        <div class="entregable-item" data-obligatorio="true">
                            <div class="modal-campo">
                                <label for="entregable_4">
                                    Ejecución *
                                    <span class="badge-obligatorio">Obligatorio</span>
                                </label>
                                <p class="descripcion-entregable">
                                    Informe de implementación del proyecto, evidencias de actividades realizadas, resultados obtenidos y ajustes aplicados durante el proceso.
                                </p>
                                <div class="calendar-container">
                                    <i class="fa-solid fa-calendar-days" onclick="abrirCalendario('fechaRango_4')"></i>
                                    <input type="text" 
                                        name="fecha_entregable_4" 
                                        id="fechaRango_4" 
                                        placeholder="Selecciona rango de fechas" 
                                        readonly 
                                        required>
                                    <input type="hidden" name="fecha_inicio_4" id="fecha_inicio_4">
                                    <input type="hidden" name="fecha_fin_4" id="fecha_fin_4">
                                </div>
                            </div>
                        </div>

                        <!-- Entregable 5: Evaluación -->
                        <div class="entregable-item" data-obligatorio="true">
                            <div class="modal-campo">
                                <label for="entregable_5">
                                    Evaluación *
                                    <span class="badge-obligatorio">Obligatorio</span>
                                </label>
                                <p class="descripcion-entregable">
                                    Análisis del cumplimiento de objetivos, medición de impacto, identificación de logros, dificultades y lecciones aprendidas del proyecto.
                                </p>
                                <div class="calendar-container">
                                    <i class="fa-solid fa-calendar-days" onclick="abrirCalendario('fechaRango_5')"></i>
                                    <input type="text" 
                                        name="fecha_entregable_5" 
                                        id="fechaRango_5" 
                                        placeholder="Selecciona rango de fechas" 
                                        readonly 
                                        required>
                                    <input type="hidden" name="fecha_inicio_5" id="fecha_inicio_5">
                                    <input type="hidden" name="fecha_fin_5" id="fecha_fin_5">
                                </div>
                            </div>
                        </div>

                        <!-- Entregable 6: Conclusiones -->
                        <div class="entregable-item" data-obligatorio="true">
                            <div class="modal-campo">
                                <label for="entregable_6">
                                    Conclusiones *
                                    <span class="badge-obligatorio">Obligatorio</span>
                                </label>
                                <p class="descripcion-entregable">
                                    Reflexiones finales, recomendaciones para futuros proyectos, aportes al conocimiento y perspectivas de continuidad o réplica del proyecto.
                                </p>
                                <div class="calendar-container">
                                    <i class="fa-solid fa-calendar-days" onclick="abrirCalendario('fechaRango_6')"></i>
                                    <input type="text" 
                                        name="fecha_entregable_6" 
                                        id="fechaRango_6" 
                                        placeholder="Selecciona rango de fechas" 
                                        readonly 
                                        required>
                                    <input type="hidden" name="fecha_inicio_6" id="fecha_inicio_6">
                                    <input type="hidden" name="fecha_fin_6" id="fecha_fin_6">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <hr class="modal-hr modal-hr-final">
                
                <!-- Acciones del modal -->
                <div class="modal-acciones">
                    <a href="{% url 'resu-proyectos' semillero.id_sem %}" class="modal-btn modal-btn-cancelar">
                        <i class="fas fa-times"></i> Cancelar
                    </a>
                    <button type="submit" class="modal-btn modal-btn-primario">
                        <i class="fas fa-check"></i> Crear Proyecto
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
<script src="{% static 'js/proyectos-carousel.js' %}"></script>
<script src="{% static 'js/bootstrap.min.js' %}"></script>
<script src="{% static 'js/calendario.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/es.js"></script>


{% endblock %}